<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureShare | Admin Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="home.html" class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <span>Secure<span>Share</span></span>
                </a>
            </div>
            
            <div class="nav-menu">
                <a href="home.html" class="nav-link">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="apks.html" class="nav-link">
                    <i class="fab fa-android"></i> APKs
                </a>
                <a href="files.html" class="nav-link">
                    <i class="fas fa-file"></i> Files
                </a>
                <a href="contact.html" class="nav-link">
                    <i class="fas fa-envelope"></i> Contact
                </a>
                <a href="admin.html" class="nav-link active">
                    <i class="fas fa-cog"></i> Admin
                </a>
            </div>
            
            <div class="nav-user" id="userSection">
                <!-- Dynamic content -->
            </div>
            
            <button class="nav-toggle" id="navToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a href="home.html" class="mobile-link">
            <i class="fas fa-home"></i> Home
        </a>
        <a href="apks.html" class="mobile-link">
            <i class="fab fa-android"></i> APKs
        </a>
        <a href="files.html" class="mobile-link">
            <i class="fas fa-file"></i> Files
        </a>
        <a href="contact.html" class="mobile-link">
            <i class="fas fa-envelope"></i> Contact
        </a>
        <a href="admin.html" class="mobile-link active">
            <i class="fas fa-cog"></i> Admin
        </a>
        <div class="mobile-user" id="mobileUserSection">
            <!-- Dynamic content -->
        </div>
    </div>

    <!-- Main Content -->
    <main class="container">
        <div class="page-header">
            <h1 class="page-title">Admin Panel</h1>
            <p class="page-subtitle">Manage files, view statistics, and upload content</p>
        </div>

        <!-- Admin Stats -->
        <div class="stats-grid" id="adminStats">
            <!-- Stats will be loaded here -->
        </div>

        <!-- Upload Section -->
        <div class="section">
            <div class="section-header">
                <h2>Upload New File</h2>
            </div>
            
            <div class="admin-upload">
                <form id="uploadForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="fileName">File Name</label>
                            <input type="text" class="form-input" id="fileName" placeholder="e.g., MyApp v2.0" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="fileType">File Type</label>
                            <select class="form-input" id="fileType" required>
                                <option value="apk">APK File</option>
                                <option value="file">Other File</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="file-upload-label" for="fileUpload">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <span>Choose File to Upload</span>
                            <p class="file-upload-hint">Click to browse files on your device</p>
                        </label>
                        <input type="file" class="file-upload-input" id="fileUpload" required>
                        <div class="selected-file" id="selectedFile">
                            <!-- Selected file info will appear here -->
                        </div>
                    </div>
                    
                    <div class="form-group apk-url-container" id="apkUrlContainer">
                        <label class="form-label" for="apkUrl">APK Download Link</label>
                        <input type="url" class="form-input" id="apkUrl" placeholder="https://example.com/file.apk">
                        <div class="form-hint">Users will be redirected to this link when downloading the APK</div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-upload"></i> Upload File
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="resetUploadForm()">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Manage Files -->
        <div class="section">
            <div class="section-header">
                <h2>Manage Files</h2>
                <div class="section-actions">
                    <button class="btn btn-secondary" onclick="refreshAdminFiles()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
            </div>
            
            <div class="file-grid" id="adminFilesList">
                <!-- Files will be loaded here -->
            </div>
            
            <div class="empty-state" id="emptyAdminFiles">
                <i class="fas fa-cloud-upload-alt"></i>
                <h3>No Files Uploaded</h3>
                <p>Upload files using the form above to manage them here.</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo">
                        <i class="fas fa-shield-alt"></i>
                        <span>Secure<span>Share</span></span>
                    </div>
                    <p class="footer-text">Secure file sharing platform</p>
                </div>
                
                <div class="footer-links">
                    <a href="home.html">Home</a>
                    <a href="apks.html">APKs</a>
                    <a href="files.html">Files</a>
                    <a href="contact.html">Contact</a>
                    <a href="admin.html">Admin</a>
                    <a href="https://chat.whatsapp.com/CxsbmV7zMpVCikL8o3h34K" target="_blank">WhatsApp</a>
                </div>
            </div>
            
            <div class="footer-copyright">
                <p>&copy; 2023 SecureShare. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/auth.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/files.js"></script>
    <script src="js/admin.js"></script>
    <script>
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication and admin status
            checkAdminAuth();
            
            // Initialize navigation
            initNavigation();
            
            // Load admin data
            loadAdminData();
            
            // Set active nav link
            setActiveNavLink('admin');
            
            // Initialize upload form
            initUploadForm();
        });
        
        function refreshAdminFiles() {
            loadAdminFiles();
            showNotification('Admin files refreshed', 'success');
        }
        
        function resetUploadForm() {
            document.getElementById('uploadForm').reset();
            document.getElementById('selectedFile').innerHTML = '';
            showNotification('Upload form cleared', 'info');
        }
    </script>
</body>
</html>